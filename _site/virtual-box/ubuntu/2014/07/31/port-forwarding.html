<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>How to setup port forwarding on VirtualBox</title>
	
	<meta name="author" content="James Lieu">

	<!-- Enable responsive viewport -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!-- Le styles -->
	<link href="/assets/resources/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<link href="/assets/resources/font-awesome/css/font-awesome.min.css" rel="stylesheet">
	<link href="/assets/resources/syntax/syntax.css" rel="stylesheet">
	<link href="/assets/css/style.css" rel="stylesheet">

	<!-- Le fav and touch icons -->
	<!-- Update these with your own images
	<link rel="shortcut icon" href="images/favicon.ico">
	<link rel="apple-touch-icon" href="images/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
	-->

	<link rel="alternate" type="application/rss+xml" title="" href="/feed.xml">
</head>

<body>
	<nav class="navbar navbar-default visible-xs" role="navigation">
		<!-- Brand and toggle get grouped for better mobile display -->
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			
			<a type="button" class="navbar-toggle nav-link" href="http://github.com/jamesl88">
				<i class="fa fa-github"></i>
			</a>
			
			
			<a type="button" class="navbar-toggle nav-link" href="http://twitter.com/J_Lieu">
				<i class="fa fa-twitter"></i>
			</a>
			
			
			<a type="button" class="navbar-toggle nav-link" href="mailto:j.lieu@gmail.com">
				<i class="fa fa-envelope"></i>
			</a>
			
			<a class="navbar-brand" href="/">
				<img src="http://www.gravatar.com/avatar/9bf1ab535d46b551178bb29637428f4c?s=35" class="img-circle" />
				
			</a>
		</div>

		<!-- Collect the nav links, forms, and other content for toggling -->
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			<ul class="nav navbar-nav">
				<li class="active"><a href="/">Home</a></li>
				<li><a href="/categories.html">Categories</a></li>
				<li><a href="/tags.html">Tags</a></li>
			</ul>
		</div><!-- /.navbar-collapse -->
	</nav>

	<!-- nav-menu-dropdown -->
	<div class="btn-group hidden-xs" id="nav-menu">
		<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
			<i class="fa fa-bars"></i>
		</button>
		<ul class="dropdown-menu" role="menu">
			<li><a href="/"><i class="fa fa-home"></i>Home</a></li>
			<li><a href="/categories.html"><i class="fa fa-folder"></i>Categories</a></li>
			<li><a href="/tags.html"><i class="fa fa-tags"></i>Tags</a></li>
			<li class="divider"></li>
			<li><a href="#"><i class="fa fa-arrow-up"></i>Top of Page</a></li>
		</ul>
	</div>

	<div class="col-sm-2 sidebar hidden-xs">
		<! -- sidebar.html -->
<header class="sidebar-header" role="banner">
	<a href="/">
		<img src="http://www.gravatar.com/avatar/9bf1ab535d46b551178bb29637428f4c?s=150" class="img-circle" />
	</a>
	<h3 class="title">
        <a href="/"></a>
    </h3>
</header>


<div id="bio" class="text-center">
	Hi I'm James, I'm a Junior web developer, Illustrator and Animator
</div>



<div id="bio" class="text-center">
	<a href="http://www.jameslieu.co.uk" style="color:white;" target="_blank">http://www.jameslieu.co.uk</a>
</div>


<div id="contact-list" class="text-center">
	<ul class="list-unstyled list-inline">
		
		<li>
			<a class="btn btn-default btn-sm" href="https://github.com/jamesl88">
				<i class="fa fa-github-square fa-lg"></i>
			</a>
		</li>
		

		
		<li>
			<a class="btn btn-default btn-sm" href="https://linkedin.com/in/jameslieu1">
				<i class="fa fa-linkedin fa-lg"></i>
			</a>
		</li>
		
	</ul>

	<ul id="contact-list-secondary" class="list-unstyled list-inline">

		
		<li>
			<a class="btn btn-default btn-sm" href="https://twitter.com/J_Lieu">
				<i class="fa fa-twitter fa-lg"></i>
			</a>
		</li>
		

		
		<li>
			<a class="btn btn-default btn-sm" href="mailto:j.lieu@gmail.com">
				<i class="fa fa-envelope fa-lg"></i>
			</a>
		</li>
		

		<li>
			<a class="btn btn-default btn-sm" href="/feed.xml">
				<i class="fa fa-rss fa-lg"></i>
			</a>
		</li>
	</ul>
</div>
<! -- sidebar.html end -->

	</div>

	<div class="col-sm-10 col-sm-offset-2">
		<div class="page-header">
  <h1>How to setup port forwarding on VirtualBox </h1>
</div>

<article>

	<div class="col-sm-10">
	 <span class="post-date">
	   
	   July
	   31st,
	     
	   2014
	 </span>
	  <div class="article_body">
	  <p>One of the rails project I worked with required me to get VirtualBox up and running with the following specs: Ubuntu 14.04 server amd64 on a 2GB RAM 2 core VM with VT-x/ AMD-v.</p>

<p>And in there, I had to set up ruby via RVM, install a lot of extra tools and ruby gems. To make things easier for me I used port forwarding.</p>
<hr />

<p>Port forwarding allows remote computers (for example, computers on the Internet) to connect to a specific computer or service within a private local-area network (LAN) - <em>according to wikipedia</em></p>

<p>One benefit of using port forwarding is that it allows you to run tasks on the command-line without having to work directly in VirtualBox by using your host terminal.
<br />
<br /></p>

<p>First thing I did was to install the OpenSSH client applications on Ubuntu</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby">sudo apt-get install openssh-server</code></pre></div>

<p><br />
Then to setup a port forwarding into the guest’s port 22 so I can access it from my host terminal.</p>

<ul>
  <li>To enable port forwarding, open the settings for your Virtual Machine <strong>(For OS X)</strong><br />
  <em>You can do this from the VirtualBox Manager, choose Settings(found on the top left)</em></li>
  <br />
  <li>Select the <strong>Network</strong> tab</li>
</ul>

<p><img src="/assets/media/port_forwarding_1.png" /></p>

<ul>
  <li>Make sure that <strong>NAT</strong> is selected in the <strong>Attached to: selector.</strong></li>
  <li>Click on the Port Forwarding button.</li>
</ul>

<p><img src="/assets/media/port_forwarding_2.png" /></p>

<ul>
  <li>Pick a port on our Host, for example 2222, and forward TCP connections received on this port, to port 22/TCP (SSH) on our guest.
    (<em>To do this, click on the green (+) button on the right</em>).</li>
</ul>
<ul>
  <li>Host IP is set to nothing - this is on purpose, and is equivalent to saying 0.0.0.0.
    However, it does mean that ANY MACHINE that can access your Host on TCP port 2222 will be able to talk to the SSH on your guest. </li>
  <li>Theres no need to change the Guest IP so leave it blank.</li>
  <li>Now confirm all the changes and click <strong>ok</strong></li>
  <li>Restart the Virtual Machine so the changes are applied</li>
</ul>

<p>Now you should be ready to connect to the guest.
<em>Note: Make sure you have created a username on your guest. You cannot log in as root using SSH`</em>
<br />
<br /></p>

<p>Start your VM.
In your terminal enter:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby">ssh -l [user_name] -p 2222 127.0.0.1</code></pre></div>

<p><em>Don’t forget to replace <strong>[user_name]</strong> with the user you created.</em>
<br /></p>

<p>You will be prompted to accept the host key so be sure to enter <strong>yes</strong>. Then finally you’ll be prompted to enter the password for the username:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby">[user_name]@127.0.0.1&#39;s password:</code></pre></div>

<p>Enter your password and you should now be logged in!</p>

<p><br />
Now you should be able to run commands in the terminal without going into the VM directly. Great for running specs for your rails applications or adding new gems and tools.</p>


	  </div>

		
		<ul class="tag_box list-unstyled list-inline">
		  <li><i class="fa fa-folder-open"></i></li>
		  
		  
			
				<li><a href="/categories.html#virtual-box-ref">
					virtual-box <span>(1)</span>
					,
				</a></li>
			
				<li><a href="/categories.html#ubuntu-ref">
					ubuntu <span>(2)</span>
					
				</a></li>
			
		  
		</ul>
		

		

		<hr>

		<div>
      <section class="share col-sm-6">
        <h4 class="section-title">Share Post</h4>
        <a class="btn btn-default btn-sm twitter" href="http://twitter.com/share?text=How to setup port forwarding on VirtualBox&via=J_Lieu"
           onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
          <i class="fa fa-twitter fa-lg"></i>
        </a>
        <a class="btn btn-default btn-sm facebook" href="https://www.facebook.com/sharer/sharer.php"
           onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
          <i class="fa fa-facebook fa-lg"></i>
        </a>
        <a class="btn btn-default btn-sm gplus"
           onclick="window.open('https://plus.google.com/share?url='+window.location.href, 'google-plus-share', 'width=490,height=530');return false;">
          <i class="fa fa-google-plus fa-lg"></i>
        </a>
      </section>

      <section class="col-sm-6 author">
        <img src="http://www.gravatar.com/avatar/9bf1ab535d46b551178bb29637428f4c" class="img-rounded author-image" />
        <h4 class="section-title author-name">James Lieu</h4>
        <p class="author-bio">Hi I'm James, I'm a Junior web developer, Illustrator and Animator</p>
      </section>
    </div>

    <div class="clearfix"></div>

		<ul class="pager">
		  
		  <li class="previous"><a href="/ruby/rails/2014/07/30/rake-db-rebuild.html" title="Dropping and resetting database all in one rake task">&larr; Previous</a></li>
		  
		  
		  <li class="next"><a href="/ssh/2014/08/05/linux-cheatsheet.html" title="Bash command line for Linux - Cheat Sheet">Next &rarr;</a></li>
		  
		</ul>

		<hr>
	</div>

	<div class="col-sm-2 sidebar-2">

	</div>
</article>
<div class="clearfix"></div>


  <div id="disqus_thread"></div>
      <script type="text/javascript">
          /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
          var disqus_shortname = 'jameslieu'; // required: replace example with your forum shortname

          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>




		<footer>
			<hr/>
			<p>
				&copy; 2014 James Lieu
			</p>
		</footer>
	</div>

	<script type="text/javascript" src="/assets/resources/jquery/jquery.min.js"></script>
	<script type="text/javascript" src="/assets/resources/bootstrap/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="/assets/js/app.js"></script>
</body>
</html>

